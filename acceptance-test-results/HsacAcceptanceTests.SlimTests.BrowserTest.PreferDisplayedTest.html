<html><head><title>HsacAcceptanceTests.SlimTests.BrowserTest.PreferDisplayedTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacAcceptanceTests.SlimTests.BrowserTest.PreferDisplayedTest</h2></header><article><br/>This test ensures that if multiple elements match our search criteria we select the first that is actually displayed. When none of the elements are visible we use the first found.<br/><br/>We use a mock server running to serve the HTML defined in this page.<br/><p class="note">The mock server serves the content as <i>text/xml</i>, but the browser does not seem to mind.</p><br/><br/><span class="meta">variable defined: HTML= {{{
&lt;html&gt;
&lt;body&gt;
&lt;div id="a1"&gt;Button&lt;/div&gt;
&lt;button aria-labelledby="a1" value="Hidden Button" style="display:none;"&gt;Button 1&lt;/button&gt;
&lt;button aria-labelledby="a1" value="Visible Button"&gt;Button 2&lt;/button&gt;
&lt;input name="f" aria-label="name" style="display:none" value="Piet"&gt;
&lt;input name="f2" aria-label="name" value="Jan"&gt;
&lt;div style="display:none"&gt;
&lt;label for="g1"&gt;Hello&lt;/label&gt;&lt;input id="g1" value="Hoi"&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;label for="g2"&gt;Hello&lt;/label&gt;&lt;input id="g2" value="Hi"&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;}}} </span>
<br/><br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td><pre>
&lt;html&gt;
&lt;body&gt;
&lt;div id="a1"&gt;Button&lt;/div&gt;
&lt;button aria-labelledby="a1" value="Hidden Button" style="display:none;"&gt;Button 1&lt;/button&gt;
&lt;button aria-labelledby="a1" value="Visible Button"&gt;Button 2&lt;/button&gt;
&lt;input name="f" aria-label="name" style="display:none" value="Piet"&gt;
&lt;input name="f2" aria-label="name" value="Jan"&gt;
&lt;div style="display:none"&gt;
&lt;label for="g1"&gt;Hello&lt;/label&gt;&lt;input id="g1" value="Hoi"&gt;
&lt;/div&gt;
&lt;div&gt;
&lt;label for="g2"&gt;Hello&lt;/label&gt;&lt;input id="g2" value="Hi"&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$url&lt;-[http://172.17.0.4:8000/FitNesseMock]</td>
		<td>get mock server url</td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td colspan="3">$url->[http://172.17.0.4:8000/FitNesseMock]</td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td colspan="3">exact match</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value of</td>
		<td>Button</td>
		<td><span class="pass">Visible Button</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value of</td>
		<td>name</td>
		<td><span class="pass">Jan</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value of</td>
		<td>Hello</td>
		<td><span class="pass">Hi</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td>note</td>
		<td colspan="3">partial match</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value of</td>
		<td>Bu</td>
		<td><span class="pass">Visible Button</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value of</td>
		<td>na</td>
		<td><span class="pass">Jan</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>value of</td>
		<td>Hell</td>
		<td><span class="pass">Hi</span></td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td colspan="2">stop</td>
	</tr>
</table>
</article></body></html>