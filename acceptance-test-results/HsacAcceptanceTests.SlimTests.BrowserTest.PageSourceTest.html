<html><head><title>HsacAcceptanceTests.SlimTests.BrowserTest.PageSourceTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacAcceptanceTests.SlimTests.BrowserTest.PageSourceTest</h2></header><article><br/>This test ensures we can get at a page's HTML source code.<br/><br/><span class="meta">variable defined: HTML= {{{
&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name="remove" type="button" value="Remove"&gt;
&lt;/body&gt;&lt;/html&gt;}}} </span>
<br/><br/><h2>No extension</h2>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td><pre>
&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name="remove" type="button" value="Remove"&gt;
&lt;/body&gt;&lt;/html&gt;</pre></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$url&lt;-[http://172.17.0.4:8000/FitNesseMock]</td>
		<td>get mock server url</td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td colspan="2">$url->[http://172.17.0.4:8000/FitNesseMock]</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="2">page source</td>
	<td><pre>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name=&quot;remove&quot; type=&quot;button&quot; value=&quot;Remove&quot;&gt;
&lt;/body&gt;&lt;/html&gt;</pre></td></tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="2">save page source</td>
	<td><a href="files/pagesources/FitNesseMock.HTML">FitNesseMock.html</a></td></tr>
	<tr class="slimRowColor4">
		<td>$source&lt;-[<pre>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name=&quot;remove&quot; type=&quot;button&quot; value=&quot;Remove&quot;&gt;
&lt;/body&gt;&lt;/html&gt;</pre>]</td>
		<td colspan="2">page source</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>save page source</td>
		<td><span class="pass">/&lt;a href="files/.*?\.HTML"&gt;FitNesseMock.html&lt;/a&gt;/ found in: &lt;a href="files/pagesources/FitNesseMock_1.HTML"&gt;FitNesseMock.html&lt;/a&gt;</span></td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="5"><span class="pass">compare fixture</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>count differences between (ignore whitespace)</td>
		<td><pre>
&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name="remove" type="button" value="Remove"&gt;
&lt;/body&gt;&lt;/html&gt;</pre></td>
		<td>and</td>
		<td>$source->[<pre>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name=&quot;remove&quot; type=&quot;button&quot; value=&quot;Remove&quot;&gt;
&lt;/body&gt;&lt;/html&gt;</pre>]</td>
		<td><span class="pass">0</span></td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td colspan="2">stop</td>
	</tr>
</table>
<br/><h2>HTML extension</h2>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
		<td>/test.html</td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td colspan="2"><pre>
&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name="remove" type="button" value="Remove"&gt;
&lt;/body&gt;&lt;/html&gt;</pre></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$url&lt;-[http://172.17.0.4:8000/test.html]</td>
		<td colspan="2">get mock server url</td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td colspan="2">$url->[http://172.17.0.4:8000/test.html]</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>save page source</td>
		<td><span class="pass">/&lt;a href="files/.*?\.HTML"&gt;test.html&lt;/a&gt;/ found in: &lt;a href="files/pagesources/test.HTML"&gt;test.html&lt;/a&gt;</span></td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
		<td>/test.html</td>
	</tr>
	<tr class="slimRowColor4">
		<td colspan="3">stop</td>
	</tr>
</table>
<br/><h2>No file name</h2>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
		<td>/test/</td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td colspan="2"><pre>
&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name="remove" type="button" value="Remove"&gt;
&lt;/body&gt;&lt;/html&gt;</pre></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$url&lt;-[http://172.17.0.4:8000/test/]</td>
		<td colspan="2">get mock server url</td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td colspan="2">$url->[http://172.17.0.4:8000/test/]</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>save page source</td>
		<td><span class="pass">/&lt;a href="files/.*?\.HTML"&gt;pageSource.html&lt;/a&gt;/ found in: &lt;a href="files/pagesources/pageSource.HTML"&gt;pageSource.html&lt;/a&gt;</span></td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
		<td>/test/</td>
	</tr>
	<tr class="slimRowColor4">
		<td colspan="3">stop</td>
	</tr>
</table>
<br/><h2>Query parmas?</h2>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
		<td>/test</td>
	</tr>
	<tr class="slimRowColor8">
		<td>add response</td>
		<td colspan="2"><pre>
&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Start Page Title&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;
&lt;input name="remove" type="button" value="Remove"&gt;
&lt;/body&gt;&lt;/html&gt;</pre></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$url&lt;-[http://172.17.0.4:8000/test]</td>
		<td colspan="2">get mock server url</td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">browser test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td><span class="pass">open</span></td>
		<td colspan="2">$url->[http://172.17.0.4:8000/test]?hallo=1&yes=no</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>save page source</td>
		<td><span class="pass">/&lt;a href="files/.*?\.HTML"&gt;test.html&lt;/a&gt;/ found in: &lt;a href="files/pagesources/test_1.HTML"&gt;test.html&lt;/a&gt;</span></td>
	</tr>
</table>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">mock xml server setup</span></td>
		<td>/test</td>
	</tr>
	<tr class="slimRowColor4">
		<td colspan="3">stop</td>
	</tr>
</table>
</article></body></html>