<html><head><title>HsacAcceptanceTests.SlimTests.ExecuteProgramTest</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacAcceptanceTests.SlimTests.ExecuteProgramTest</h2></header><article><br/>This page demonstrates the usage of ExecuteProgramTest, which allows you to run a program and inspect its output.<br/><br/><p class="note">The program will be executed on the machine which hosts the Slim process.</p><br/>We can run a program with some arguments, check its exit code and show its output.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">execute program test</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>-c</td>
		<td>as argument</td>
		<td>0</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>ls -l /</td>
		<td>as argument</td>
		<td>1</td>
	</tr>
	<tr class="slimRowColor5">
		<td><span class="pass">execute</span></td>
		<td colspan="3">/bin/bash</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>exit code</td>
		<td colspan="2"><span class="pass">0</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="3">standard out</td>
	<td><pre>total 36
drwxr-xr-x   2 root     root     4096 Feb  5  2015 bin
drwxr-xr-x   2 root     root        6 Apr 19  2012 boot
drwxr-xr-x   6 root     root      400 Feb 19 21:21 dev
drwxr-xr-x  99 root     root     8192 Feb 19 21:23 etc
drwxr-xr-x   3 root     root       33 Feb  5  2015 home
drwxr-xr-x  14 root     root     4096 Feb  5  2015 lib
drwxr-xr-x   2 root     root       33 Feb 19 21:22 lib64
drwxr-xr-x   2 root     root        6 Jan 28  2015 media
drwxr-xr-x   2 root     root        6 Apr 19  2012 mnt
drwxr-xr-x   2 memcache memcache    6 Feb  5  2015 nonexistent
drwxr-xr-x   2 root     root        6 Feb  5  2015 opt
dr-xr-xr-x 864 nobody   nogroup     0 Feb 19 21:21 proc
drwx------   2 root     root       35 Feb  5  2015 root
drwxr-xr-x  13 root     root     4096 Feb 19 21:21 run
drwxr-xr-x   2 root     root     4096 Feb 19 21:22 sbin
drwxr-xr-x   2 root     root        6 Mar  5  2012 selinux
drwxr-xr-x   2 root     root        6 Jan 28  2015 srv
dr-xr-xr-x  13 nobody   nogroup     0 Feb 19 20:29 sys
drwxrwxrwt   5 root     root      111 Feb 19 21:24 tmp
drwxr-xr-x  13 root     root     4096 Feb  5  2015 usr
drwxr-xr-x  12 root     root      140 Feb  5  2015 var
</pre></td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>standard error</td>
		<td colspan="2"><span class="pass">BLANK</span></td>
	</tr>
</table>
<br/>The default timeout for program execution is one minute, but we can set a custom timeout. Furthermore we can control the directory it is invoked from, set all arguments using a list and get its output 'unformatted'.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="2"><span class="pass">execute program test</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>timeout</td>
		<td><span class="pass">60000</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td>set timeout of</td>
		<td>100</td>
		<td>milliseconds</td>
	</tr>
	<tr class="slimRowColor6">
		<td>set working directory</td>
		<td colspan="2">/</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>-c, ls -l</td>
		<td>as arguments</td>
	</tr>
	<tr class="slimRowColor5">
		<td><span class="pass">execute</span></td>
		<td colspan="2">/bin/bash</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>exit code</td>
		<td><span class="pass">0</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td colspan="2">raw standard out</td>
	<td>total 36
drwxr-xr-x   2 root     root     4096 Feb  5  2015 bin
drwxr-xr-x   2 root     root        6 Apr 19  2012 boot
drwxr-xr-x   6 root     root      400 Feb 19 21:21 dev
drwxr-xr-x  99 root     root     8192 Feb 19 21:23 etc
drwxr-xr-x   3 root     root       33 Feb  5  2015 home
drwxr-xr-x  14 root     root     4096 Feb  5  2015 lib
drwxr-xr-x   2 root     root       33 Feb 19 21:22 lib64
drwxr-xr-x   2 root     root        6 Jan 28  2015 media
drwxr-xr-x   2 root     root        6 Apr 19  2012 mnt
drwxr-xr-x   2 memcache memcache    6 Feb  5  2015 nonexistent
drwxr-xr-x   2 root     root        6 Feb  5  2015 opt
dr-xr-xr-x 885 nobody   nogroup     0 Feb 19 21:21 proc
drwx------   2 root     root       35 Feb  5  2015 root
drwxr-xr-x  13 root     root     4096 Feb 19 21:21 run
drwxr-xr-x   2 root     root     4096 Feb 19 21:22 sbin
drwxr-xr-x   2 root     root        6 Mar  5  2012 selinux
drwxr-xr-x   2 root     root        6 Jan 28  2015 srv
dr-xr-xr-x  13 nobody   nogroup     0 Feb 19 20:29 sys
drwxrwxrwt   5 root     root      111 Feb 19 21:24 tmp
drwxr-xr-x  13 root     root     4096 Feb  5  2015 usr
drwxr-xr-x  12 root     root      140 Feb  5  2015 var
</td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>raw standard error</td>
		<td><span class="pass">BLANK</span></td>
	</tr>
</table>
<br/>The timeout can also be set in seconds, and pass environment variables (and the process's output is escaped to ensure it is displayed properly).<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">execute program test</span></td>
	</tr>
	<tr class="slimRowColor4">
		<td>set timeout of</td>
		<td>1</td>
		<td colspan="2">seconds</td>
	</tr>
	<tr class="slimRowColor5">
		<td>set value</td>
		<td>Hi <there></td>
		<td>for</td>
		<td>BLA</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>-c</td>
		<td>as argument</td>
		<td>0</td>
	</tr>
	<tr class="slimRowColor2">
		<td>set</td>
		<td>echo ${BLA}</td>
		<td>as argument</td>
		<td>1</td>
	</tr>
	<tr class="slimRowColor5">
		<td><span class="pass">execute</span></td>
		<td colspan="3">/bin/bash</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>exit code</td>
		<td colspan="2"><span class="pass">0</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>raw standard out</td>
		<td colspan="2"><span class="pass">Hi &lt;there&gt;
</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>standard out</td>
		<td colspan="2"><span class="pass"><pre>Hi &lt;there&gt;
</pre></span></td>
	</tr>
</table>
<br/></article></body></html>